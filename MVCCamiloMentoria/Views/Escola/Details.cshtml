@model MVCCamiloMentoria.ViewModels.EscolaViewModel

<div class="container">
    <hr />

    <fieldset class="border rounded p-3 mb-4">
        <legend class="w-auto px-2">Informações da Escola</legend>

        <dl class="row">
            <dt class="col-sm-3 fw-bold">
                @Html.DisplayNameFor(model => model.Nome)
            </dt>
            <dd class="col-sm-9">
                @Html.DisplayFor(model => model.Nome)
            </dd>

            <dt class="col-sm-3 fw-bold">
                @Html.DisplayNameFor(model => model.Endereco)
            </dt>
            <dd class="col-sm-9">
                @Html.DisplayFor(model => model.Endereco.NomeRua)
            </dd>

            <dt class="col-sm-3 fw-bold">
                @Html.DisplayNameFor(model => model.Endereco.NumeroRua)
            </dt>
            <dd class="col-sm-9">
                @Html.DisplayFor(model => model.Endereco.NumeroRua)
            </dd>

            <dt class="col-sm-3 fw-bold">
                @Html.DisplayNameFor(model => model.Endereco.Complemento)
            </dt>
            <dd class="col-sm-9">
                @Html.DisplayFor(model => model.Endereco.Complemento)
            </dd>

            <dt class="col-sm-3 fw-bold">
                @Html.DisplayNameFor(model => model.Endereco.CEP)
            </dt>
            <dd class="col-sm-9">
                @Html.DisplayFor(model => model.Endereco.CEP)
            </dd>

            <dt class="col-sm-3 fw-bold">Estado</dt>
            <dd class="col-sm-9">
                @if (Model.Endereco?.Estado != null && Model.Endereco.EstadoId != null)
                {
                    var estadoSelecionado = Model.Endereco.Estado
                    .FirstOrDefault(e => e.id == Model.Endereco.EstadoId); 

                    if (estadoSelecionado != null)
                    {
                        <p>@estadoSelecionado.Nome (@estadoSelecionado.Sigla)</p>
                    }
                    else
                    {
                        <span class="text-muted">Estado não encontrado</span>
                    }
                }
                else
                {
                    <span class="text-muted">Estado não informado</span>
                }
            </dd>
        </dl>
    </fieldset>


    <div class="mt-5">
        <h5 class="border-bottom pb-2 mb-3 text-dark">
            <i class="fas fa-chalkboard-teacher me-2 text-secondary"></i> Professores
        </h5>
        <div class="table-responsive">
            <table class="table table-bordered table-hover table-striped align-middle">
                <thead class="table-secondary">
                    <tr>
                        <th>Nome</th>
                    </tr>
                </thead>
                <tbody>
                    @if (Model.Professores != null && Model.Professores.Any())
                    {
                        @foreach (var professor in Model.Professores)
                        {
                            <tr>
                                <td>@professor.Nome</td>
                            </tr>
                        }
                    }
                    else
                    {
                        <tr>
                            <td class="text-muted">Nenhum professor cadastrado</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>


    <div class="mt-5">
        <h5 class="border-bottom pb-2 mb-3 text-dark">
            <i class="fas fa-user-tie me-2 text-primary"></i> Supervisores
        </h5>
        <div class="table-responsive">
            <table class="table table-bordered table-hover table-striped align-middle">
                <thead class="table-primary">
                    <tr>
                        <th>Nome</th>
                    </tr>
                </thead>
                <tbody>
                    @if (Model.Supervisores != null && Model.Supervisores.Any())
                    {
                        @foreach (var supervisor in Model.Supervisores)
                        {
                            <tr>
                                <td>@supervisor.Supervisor?.Nome</td>
                            </tr>
                        }
                    }
                    else
                    {
                        <tr>
                            <td class="text-muted">Nenhum supervisor cadastrado</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>


    <div class="mt-5">
        <h5 class="border-bottom pb-2 mb-3 text-dark">
            <i class="fas fa-user-cog me-2 text-success"></i> Coordenadores
        </h5>
        <div class="table-responsive">
            <table class="table table-bordered table-hover table-striped align-middle">
                <thead class="table-success">
                    <tr>
                        <th>Nome</th>
                    </tr>
                </thead>
                <tbody>
                    @if (Model.Coordenadores != null && Model.Coordenadores.Any())
                    {
                        @foreach (var coordenador in Model.Coordenadores)
                        {
                            <tr>
                                <td>@coordenador.Nome</td>
                            </tr>
                        }
                    }
                    else
                    {
                        <tr>
                            <td class="text-muted">Nenhum coordenador cadastrado</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>


    <div class="mt-5">
        <h5 class="border-bottom pb-2 mb-3 text-dark">
            <i class="fas fa-user-shield me-2 text-warning"></i> Diretores
        </h5>
        <div class="table-responsive">
            <table class="table table-bordered table-hover table-striped align-middle">
                <thead class="table-warning">
                    <tr>
                        <th>Nome</th>
                    </tr>
                </thead>
                <tbody>
                    @if (Model.Diretores != null && Model.Diretores.Any())
                    {
                        @foreach (var diretor in Model.Diretores)
                        {
                            <tr>
                                <td>@diretor.Nome</td>
                            </tr>
                        }
                    }
                    else
                    {
                        <tr>
                            <td class="text-muted">Nenhum diretor cadastrado</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>


    <div class="d-flex justify-content-between mt-4">
        <a asp-action="Edit" asp-route-id="@Model?.Id" class="btn btn-warning">
            Editar
        </a>
        <a asp-action="Index" class="btn btn-secondary">
            Voltar à Lista
        </a>
    </div>
</div>
